{"version":3,"file":"zatukblock.min.js","sources":["../src/zatukblock.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Defines zatuk block script.\n *\n * @since      Moodle 2.0\n * @copyright  2023 Moodle India\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery',\n    'core/str'],\n    function($, Str){\n    return {\n        init: function() {\n            $(\".dataTable\" ).each(function() {\n\n            });\n        },\n        DataTables: function(container){\n                var str = $('#'+container).data('function');\n                var pagelenth = $('#'+container).data('pagelength');\n                if(pagelenth == undefined){\n                  pagelenth = 10;\n                }\n                var args = {action: str};\n                return Str.get_strings([{\n                key: $('#'+container).data('nodatastring'),\n                  component: 'mod_zatuk',\n                  param: M.cfg.sesskey\n                }]).then(function() {\n                $('#'+container).DataTable({\n                    'bInfo' : false,\n                    'bLengthChange': false,\n                    'pageLength': pagelenth,\n                    'processing': true,\n                    'serverSide': true,\n                    'ajax': {\n                        \"type\": \"POST\",\n                        \"dataType\": \"json\",\n                        \"url\": M.cfg.wwwroot + '/lib/ajax/service.php?sesskey=' + M.cfg.sesskey+'&info=mod_zatuk_blocktablecontent',\n                        \"data\": function(d) {\n                          var newdata = {};\n                          newdata.methodname = 'mod_zatuk_blocktablecontent';\n                          newdata.args = {args: JSON.stringify({d,args})};\n                          return JSON.stringify([newdata]);\n                        },\n                        \"dataSrc\" : function (json) {\n                           var data = JSON.parse(json[0].data.data);\n                           return data;\n                        }\n                    },\n                    \"language\": {\n                        \"search\": '',\n                        \"searchPlaceholder\": 'search',\n                        \"paginate\": {\n                           \"next\": '<i class=\"fa fa-angle-right\"></i>',\n                           \"previous\": '<i class=\"fa fa-angle-left\"></i>'\n                        }\n                    }\n                });\n            });\n        },\n    };\n});\n"],"names":["define","$","Str","init","each","DataTables","container","str","data","pagelenth","undefined","args","action","get_strings","key","component","param","M","cfg","sesskey","then","DataTable","wwwroot","d","newdata","JSON","stringify","json","parse"],"mappings":";;;;;;;AAsBAA,8BAAO,CAAC,SACJ,aACA,SAASC,EAAGC,WACL,CACHC,KAAM,WACFF,EAAE,cAAeG,MAAK,gBAI1BC,WAAY,SAASC,eACTC,IAAMN,EAAE,IAAIK,WAAWE,KAAK,YAC5BC,UAAYR,EAAE,IAAIK,WAAWE,KAAK,cACtBE,MAAbD,YACDA,UAAY,QAEVE,KAAO,CAACC,OAAQL,YACbL,IAAIW,YAAY,CAAC,CACxBC,IAAKb,EAAE,IAAIK,WAAWE,KAAK,gBACzBO,UAAW,YACXC,MAAOC,EAAEC,IAAIC,WACXC,MAAK,WACTnB,EAAE,IAAIK,WAAWe,UAAU,QACb,iBACO,aACHZ,sBACA,cACA,OACN,MACI,gBACI,WACLQ,EAAEC,IAAII,QAAU,iCAAmCL,EAAEC,IAAIC,QAAQ,yCAChE,SAASI,OACXC,QAAU,CACdA,WAAqB,sCACrBA,QAAQb,KAAO,CAACA,KAAMc,KAAKC,UAAU,CAACH,EAAAA,EAAEZ,KAAAA,QACjCc,KAAKC,UAAU,CAACF,mBAEb,SAAUG,aACRF,KAAKG,MAAMD,KAAK,GAAGnB,KAAKA,iBAI9B,QACE,qBACW,kBACT,MACD,6CACI"}