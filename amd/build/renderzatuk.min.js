define("mod_zatuk/renderzatuk",["exports","jquery","media_videojs/video-lazy","core/modal_events","core/templates","core/modal"],(function(_exports,_jquery,_videoLazy,_modal_events,_templates,_modal){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * Defines video render script.
   *
   * @copyright  2023 Moodle India
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_jquery=_interopRequireDefault(_jquery),_videoLazy=_interopRequireDefault(_videoLazy),_modal_events=_interopRequireDefault(_modal_events),_templates=_interopRequireDefault(_templates),_modal=_interopRequireDefault(_modal);_exports.init=async()=>{(0,_jquery.default)(document).on("click",".renderervideo",(function(){var data=(0,_jquery.default)(this).data();(async()=>{const modal=await _modal.default.create({title:data.title,body:_templates.default.render("mod_zatuk/preview_block",data)});modal.show(),modal.getRoot().on(_modal_events.default.bodyRendered,(function(){const player=(0,_videoLazy.default)("rendervideo_"+data.id);player.src({autoplay:!0,src:data.zatukurl,type:"application/x-mpegURL"}),player.on("loadedmetadata",(function(){(0,_jquery.default)("#zatuk_duration").val(player.duration().toFixed(0))}))})),modal.getRoot().on(_modal_events.default.hidden,(function(){(0,_videoLazy.default)("rendervideo_"+data.id).dispose()}))})()}))}}));

//# sourceMappingURL=renderzatuk.min.js.map