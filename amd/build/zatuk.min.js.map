{"version":3,"file":"zatuk.min.js","sources":["../src/zatuk.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Defines zatuk script.\n *\n * @since      Moodle 2.0\n * @copyright  2023 Moodle India\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery'],\n        function($){\n    var tables = [];\n    return {\n        init: function() {\n            $( \".dataTable\" ).each(function() {\n            });\n          $(document).on('graphsReload', '#segmented-button',function(){\n              $( \".dataTable\" ).each(function() {\n              var timestamps = $(this).data('timestamps');\n              tables[$(this).attr('id')].columns(0).search(timestamps).draw();\n            });\n          });\n          $(document).on('radiochange', '#segmented-button', function(){\n            var checkedData = $('#segmented-button').find('input:checked').attr('value');\n            var today = new Date();\n            var endDate = new Date(today.getFullYear(), today.getMonth(), today.getDate());\n            var start_duration = '';\n            $('#customrange').hide();\n            var check = true;\n            switch(checkedData){\n              case 'week':\n                  start_duration = new Date(today.getFullYear(), today.getMonth(), today.getDate() - 7);\n                  break;\n              case 'month':\n                  start_duration = new Date(today.getFullYear(), today.getMonth() - 1, today.getDate());\n                  break;\n              case 'year':\n                  start_duration = new Date(today.getFullYear() - 1, today.getMonth(), today.getDate());\n                  break;\n              case 'custom':\n                  $('#customrange').show();\n                  return;\n                break;\n                case 'clear':\n                  check = false;\n                break;\n              default:\n                  break;\n            }\n            if(check){\n              var timestamps = start_duration.getTime()/1000+'-'+endDate.getTime()/1000;\n            }else{\n              var timestamps = '0-0';\n            }\n            var viewDatatble;\n            viewDatatble.columns(0).search(timestamps).draw();\n            $('#segmented-button').data('timestamps', timestamps);\n            $('#segmented-button').trigger('graphsReload');\n          });\n        $(document).on('change', '#module_select_filter', function(){\n          var courseid = $('#course_select_filter').children(\"option:selected\").val();\n          window.location.href = M.cfg.wwwroot+'/mod/zatuk/'+$(this).children(\"option:selected\").\n          data('page')+'?id='+courseid+'&cmid='+$(this).children(\"option:selected\").val();\n        });\n        $(document).on('change', '#course_select_filter', function(){\n          window.location.href = M.cfg.wwwroot+'/mod/zatuk/'+$(this).children(\"option:selected\").\n          data('page')+'?id='+$(this).children(\"option:selected\").val();\n        });\n\n      }\n    };\n});\n"],"names":["define","$","tables","init","each","document","on","timestamps","this","data","attr","columns","search","draw","checkedData","find","today","Date","endDate","getFullYear","getMonth","getDate","start_duration","hide","check","show","getTime","viewDatatble","trigger","courseid","children","val","window","location","href","M","cfg","wwwroot"],"mappings":";;;;;;;AAsBAA,yBAAO,CAAC,WACA,SAASC,OACTC,OAAS,SACN,CACHC,KAAM,WACFF,EAAG,cAAeG,MAAK,eAEzBH,EAAEI,UAAUC,GAAG,eAAgB,qBAAoB,WAC/CL,EAAG,cAAeG,MAAK,eACnBG,WAAaN,EAAEO,MAAMC,KAAK,cAC9BP,OAAOD,EAAEO,MAAME,KAAK,OAAOC,QAAQ,GAAGC,OAAOL,YAAYM,aAG7DZ,EAAEI,UAAUC,GAAG,cAAe,qBAAqB,eAC7CQ,YAAcb,EAAE,qBAAqBc,KAAK,iBAAiBL,KAAK,SAChEM,MAAQ,IAAIC,KACZC,QAAU,IAAID,KAAKD,MAAMG,cAAeH,MAAMI,WAAYJ,MAAMK,WAChEC,eAAiB,GACrBrB,EAAE,gBAAgBsB,WACdC,OAAQ,SACLV,iBACA,OACDQ,eAAiB,IAAIL,KAAKD,MAAMG,cAAeH,MAAMI,WAAYJ,MAAMK,UAAY,aAElF,QACDC,eAAiB,IAAIL,KAAKD,MAAMG,cAAeH,MAAMI,WAAa,EAAGJ,MAAMK,qBAE1E,OACDC,eAAiB,IAAIL,KAAKD,MAAMG,cAAgB,EAAGH,MAAMI,WAAYJ,MAAMK,qBAE1E,qBACDpB,EAAE,gBAAgBwB,WAGf,QACHD,OAAQ,KAKXA,UACGjB,WAAae,eAAeI,UAAU,IAAK,IAAIR,QAAQQ,UAAU,SAEjEnB,WAAa,MAEfoB,UACShB,QAAQ,GAAGC,OAAOL,YAAYM,OAC3CZ,EAAE,qBAAqBQ,KAAK,aAAcF,YAC1CN,EAAE,qBAAqB2B,QAAQ,mBAEnC3B,EAAEI,UAAUC,GAAG,SAAU,yBAAyB,eAC5CuB,SAAW5B,EAAE,yBAAyB6B,SAAS,mBAAmBC,MACtEC,OAAOC,SAASC,KAAOC,EAAEC,IAAIC,QAAQ,cAAcpC,EAAEO,MAAMsB,SAAS,mBACpErB,KAAK,QAAQ,OAAOoB,SAAS,SAAS5B,EAAEO,MAAMsB,SAAS,mBAAmBC,SAE5E9B,EAAEI,UAAUC,GAAG,SAAU,yBAAyB,WAChD0B,OAAOC,SAASC,KAAOC,EAAEC,IAAIC,QAAQ,cAAcpC,EAAEO,MAAMsB,SAAS,mBACpErB,KAAK,QAAQ,OAAOR,EAAEO,MAAMsB,SAAS,mBAAmBC"}