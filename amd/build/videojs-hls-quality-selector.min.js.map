{"version":3,"file":"videojs-hls-quality-selector.min.js","sources":["../src/videojs-hls-quality-selector.js"],"sourcesContent":["/**\n * videojs-hls-quality-selector\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('media_videojs/video-lazy')) :\n\ttypeof define === 'function' && define.amd ? define(['media_videojs/video-lazy'], factory) :\n\t(global.videojsHlsQualitySelector = factory(global.videojs));\n}(this, (function (videojs) { 'use strict';\n\nvideojs = videojs && videojs.hasOwnProperty('default') ? videojs['default'] : videojs;\n\nvar version = \"1.1.4\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n\n\n\n\nvar asyncGenerator = function () {\n  function AwaitValue(value) {\n    this.value = value;\n  }\n\n  function AsyncGenerator(gen) {\n    var front, back;\n\n    function send(key, arg) {\n      return new Promise(function (resolve, reject) {\n        var request = {\n          key: key,\n          arg: arg,\n          resolve: resolve,\n          reject: reject,\n          next: null\n        };\n\n        if (back) {\n          back = back.next = request;\n        } else {\n          front = back = request;\n          resume(key, arg);\n        }\n      });\n    }\n\n    function resume(key, arg) {\n      try {\n        var result = gen[key](arg);\n        var value = result.value;\n\n        if (value instanceof AwaitValue) {\n          Promise.resolve(value.value).then(function (arg) {\n            resume(\"next\", arg);\n          }, function (arg) {\n            resume(\"throw\", arg);\n          });\n        } else {\n          settle(result.done ? \"return\" : \"normal\", result.value);\n        }\n      } catch (err) {\n        settle(\"throw\", err);\n      }\n    }\n\n    function settle(type, value) {\n      switch (type) {\n        case \"return\":\n          front.resolve({\n            value: value,\n            done: true\n          });\n          break;\n\n        case \"throw\":\n          front.reject(value);\n          break;\n\n        default:\n          front.resolve({\n            value: value,\n            done: false\n          });\n          break;\n      }\n\n      front = front.next;\n\n      if (front) {\n        resume(front.key, front.arg);\n      } else {\n        back = null;\n      }\n    }\n\n    this._invoke = send;\n\n    if (typeof gen.return !== \"function\") {\n      this.return = undefined;\n    }\n  }\n\n  if (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n    AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n      return this;\n    };\n  }\n\n  AsyncGenerator.prototype.next = function (arg) {\n    return this._invoke(\"next\", arg);\n  };\n\n  AsyncGenerator.prototype.throw = function (arg) {\n    return this._invoke(\"throw\", arg);\n  };\n\n  AsyncGenerator.prototype.return = function (arg) {\n    return this._invoke(\"return\", arg);\n  };\n\n  return {\n    wrap: function (fn) {\n      return function () {\n        return new AsyncGenerator(fn.apply(this, arguments));\n      };\n    },\n    await: function (value) {\n      return new AwaitValue(value);\n    }\n  };\n}();\n\n\n\n\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n\n\n\n\n\n\n\n\n\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar VideoJsButtonClass = videojs.getComponent('MenuButton');\nvar VideoJsMenuClass = videojs.getComponent('Menu');\nvar VideoJsComponent = videojs.getComponent('Component');\nvar Dom = videojs.dom;\n\n/**\n * Convert string to title case.\n *\n * @param {string} string - the string to convert\n * @return {string} the returned titlecase string\n */\nfunction toTitleCase(string) {\n  if (typeof string !== 'string') {\n    return string;\n  }\n\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\n/**\n * Extend vjs button class for quality button.\n */\n\nvar ConcreteButton = function (_VideoJsButtonClass) {\n  inherits(ConcreteButton, _VideoJsButtonClass);\n\n  /**\n   * Button constructor.\n   *\n   * @param {Player} player - videojs player instance\n   */\n  function ConcreteButton(player) {\n    classCallCheck(this, ConcreteButton);\n    return possibleConstructorReturn(this, _VideoJsButtonClass.call(this, player, {\n      title: player.localize('Quality'),\n      name: 'QualityButton'\n    }));\n  }\n\n  /**\n   * Creates button items.\n   *\n   * @return {Array} - Button items\n   */\n\n\n  ConcreteButton.prototype.createItems = function createItems() {\n    return [];\n  };\n\n  /**\n   * Create the menu and add all items to it.\n   *\n   * @return {Menu}\n   *         The constructed menu\n   */\n\n\n  ConcreteButton.prototype.createMenu = function createMenu() {\n    var menu = new VideoJsMenuClass(this.player_, { menuButton: this });\n\n    this.hideThreshold_ = 0;\n\n    // Add a title list item to the top\n    if (this.options_.title) {\n      var titleEl = Dom.createEl('li', {\n        className: 'vjs-menu-title',\n        innerHTML: toTitleCase(this.options_.title),\n        tabIndex: -1\n      });\n      var titleComponent = new VideoJsComponent(this.player_, { el: titleEl });\n\n      this.hideThreshold_ += 1;\n\n      menu.addItem(titleComponent);\n    }\n\n    this.items = this.createItems();\n\n    if (this.items) {\n      // Add menu items to the menu\n      for (var i = 0; i < this.items.length; i++) {\n        menu.addItem(this.items[i]);\n      }\n    }\n\n    return menu;\n  };\n\n  return ConcreteButton;\n}(VideoJsButtonClass);\n\n// Concrete classes\nvar VideoJsMenuItemClass = videojs.getComponent('MenuItem');\n\n/**\n * Extend vjs menu item class.\n */\n\nvar ConcreteMenuItem = function (_VideoJsMenuItemClass) {\n  inherits(ConcreteMenuItem, _VideoJsMenuItemClass);\n\n  /**\n   * Menu item constructor.\n   *\n   * @param {Player} player - vjs player\n   * @param {Object} item - Item object\n   * @param {ConcreteButton} qualityButton - The containing button.\n   * @param {HlsQualitySelectorPlugin} plugin - This plugin instance.\n   */\n  function ConcreteMenuItem(player, item, qualityButton, plugin) {\n    classCallCheck(this, ConcreteMenuItem);\n\n    var _this = possibleConstructorReturn(this, _VideoJsMenuItemClass.call(this, player, {\n      label: item.label,\n      selectable: true,\n      selected: item.selected || false\n    }));\n\n    _this.item = item;\n    _this.qualityButton = qualityButton;\n    _this.plugin = plugin;\n    return _this;\n  }\n\n  /**\n   * Click event for menu item.\n   */\n\n\n  ConcreteMenuItem.prototype.handleClick = function handleClick() {\n\n    // Reset other menu items selected status.\n    for (var i = 0; i < this.qualityButton.items.length; ++i) {\n      this.qualityButton.items[i].selected(false);\n    }\n\n    // Set this menu item to selected, and set quality.\n    this.plugin.setQuality(this.item.value);\n    this.selected(true);\n  };\n\n  return ConcreteMenuItem;\n}(VideoJsMenuItemClass);\n\n// Default options for the plugin.\nvar defaults = {};\n\n// Cross-compatibility for Video.js 5 and 6.\nvar registerPlugin = videojs.registerPlugin || videojs.plugin;\n// const dom = videojs.dom || videojs;\n\n/**\n * VideoJS HLS Quality Selector Plugin class.\n */\n\nvar HlsQualitySelectorPlugin = function () {\n\n  /**\n   * Plugin Constructor.\n   *\n   * @param {Player} player - The videojs player instance.\n   * @param {Object} options - The plugin options.\n   */\n  function HlsQualitySelectorPlugin(player, options) {\n    classCallCheck(this, HlsQualitySelectorPlugin);\n\n    this.player = player;\n    this.config = options;\n\n    // If there is quality levels plugin and the HLS tech exists\n    // then continue.\n    if (this.player.qualityLevels && this.getHls()) {\n      // Create the quality button.\n      this.createQualityButton();\n      this.bindPlayerEvents();\n    }\n  }\n\n  /**\n   * Returns HLS Plugin\n   *\n   * @return {*} - videojs-hls-contrib plugin.\n   */\n\n\n  HlsQualitySelectorPlugin.prototype.getHls = function getHls() {\n    return this.player.tech({ IWillNotUseThisInPlugins: true }).hls;\n  };\n\n  /**\n   * Binds listener for quality level changes.\n   */\n\n\n  HlsQualitySelectorPlugin.prototype.bindPlayerEvents = function bindPlayerEvents() {\n    this.player.qualityLevels().on('addqualitylevel', this.onAddQualityLevel.bind(this));\n  };\n\n  /**\n   * Adds the quality menu button to the player control bar.\n   */\n\n\n  HlsQualitySelectorPlugin.prototype.createQualityButton = function createQualityButton() {\n\n    var player = this.player;\n\n    this._qualityButton = new ConcreteButton(player);\n\n    var placementIndex = player.controlBar.children().length - 2;\n    var concreteButtonInstance = player.controlBar.addChild(this._qualityButton, { componentClass: 'qualitySelector' }, this.config.placementIndex || placementIndex);\n\n    concreteButtonInstance.addClass('vjs-quality-selector');\n    if (!this.config.displayCurrentQuality) {\n      var icon = ' ' + (this.config.vjsIconClass || 'vjs-icon-hd');\n\n      concreteButtonInstance.menuButton_.$('.vjs-icon-placeholder').className += icon;\n    } else {\n      this.setButtonInnerText('auto');\n    }\n    concreteButtonInstance.removeClass('vjs-hidden');\n  };\n\n  /**\n   *Set inner button text.\n   *\n   * @param {string} text - the text to display in the button.\n   */\n\n\n  HlsQualitySelectorPlugin.prototype.setButtonInnerText = function setButtonInnerText(text) {\n    this._qualityButton.menuButton_.$('.vjs-icon-placeholder').innerHTML = text;\n  };\n\n  /**\n   * Builds individual quality menu items.\n   *\n   * @param {Object} item - Individual quality menu item.\n   * @return {ConcreteMenuItem} - Menu item\n   */\n\n\n  HlsQualitySelectorPlugin.prototype.getQualityMenuItem = function getQualityMenuItem(item) {\n    var player = this.player;\n\n    return new ConcreteMenuItem(player, item, this._qualityButton, this);\n  };\n\n  /**\n   * Executed when a quality level is added from HLS playlist.\n   */\n\n\n  HlsQualitySelectorPlugin.prototype.onAddQualityLevel = function onAddQualityLevel() {\n    var _this = this;\n\n    var player = this.player;\n    var qualityList = player.qualityLevels();\n    var levels = qualityList.levels_ || [];\n    var levelItems = [];\n\n    var _loop = function _loop(i) {\n      if (!levelItems.filter(function (_existingItem) {\n        return _existingItem.item && _existingItem.item.value === levels[i].height;\n      }).length) {\n        var levelItem = _this.getQualityMenuItem.call(_this, {\n          label: levels[i].height + 'p',\n          value: levels[i].height\n        });\n\n        levelItems.push(levelItem);\n      }\n    };\n\n    for (var i = 0; i < levels.length; ++i) {\n      _loop(i);\n    }\n\n    levelItems.sort(function (current, next) {\n      if ((typeof current === 'undefined' ? 'undefined' : _typeof(current)) !== 'object' || (typeof next === 'undefined' ? 'undefined' : _typeof(next)) !== 'object') {\n        return -1;\n      }\n      if (current.item.value < next.item.value) {\n        return -1;\n      }\n      if (current.item.value > next.item.value) {\n        return 1;\n      }\n      return 0;\n    });\n\n    levelItems.push(this.getQualityMenuItem.call(this, {\n      label: player.localize('Auto'),\n      value: 'auto',\n      selected: true\n    }));\n\n    if (this._qualityButton) {\n      this._qualityButton.createItems = function () {\n        return levelItems;\n      };\n      this._qualityButton.update();\n    }\n  };\n\n  /**\n   * Sets quality (based on media height)\n   *\n   * @param {number} height - A number representing HLS playlist.\n   */\n\n\n  HlsQualitySelectorPlugin.prototype.setQuality = function setQuality(height) {\n    var qualityList = this.player.qualityLevels();\n\n    // Set quality on plugin\n    this._currentQuality = height;\n\n    if (this.config.displayCurrentQuality) {\n      this.setButtonInnerText(height === 'auto' ? height : height + 'p');\n    }\n\n    for (var i = 0; i < qualityList.length; ++i) {\n      var quality = qualityList[i];\n\n      quality.enabled = quality.height === height || height === 'auto';\n    }\n    this._qualityButton.unpressButton();\n  };\n\n  /**\n   * Return the current set quality or 'auto'\n   *\n   * @return {string} the currently set quality\n   */\n\n\n  HlsQualitySelectorPlugin.prototype.getCurrentQuality = function getCurrentQuality() {\n    return this._currentQuality || 'auto';\n  };\n\n  return HlsQualitySelectorPlugin;\n}();\n\n/**\n * Function to invoke when the player is ready.\n *\n * This is a great place for your plugin to initialize itself. When this\n * function is called, the player will have its DOM and child components\n * in place.\n *\n * @function onPlayerReady\n * @param    {Player} player\n *           A Video.js player object.\n *\n * @param    {Object} [options={}]\n *           A plain object containing options for the plugin.\n */\n\n\nvar onPlayerReady = function onPlayerReady(player, options) {\n  player.addClass('vjs-hls-quality-selector');\n  player.hlsQualitySelector = new HlsQualitySelectorPlugin(player, options);\n};\n\n/**\n * A video.js plugin.\n *\n * In the plugin function, the value of `this` is a video.js `Player`\n * instance. You cannot rely on the player being in a \"ready\" state here,\n * depending on how the plugin is invoked. This may or may not be important\n * to you; if not, remove the wait for \"ready\"!\n *\n * @function hlsQualitySelector\n * @param    {Object} [options={}]\n *           An object of options left to the plugin author to define.\n */\nvar hlsQualitySelector = function hlsQualitySelector(options) {\n  var _this2 = this;\n\n  this.ready(function () {\n    onPlayerReady(_this2, videojs.obj.merge(defaults, options));\n  });\n};\n\n// Register the plugin with video.js.\nregisterPlugin('hlsQualitySelector', hlsQualitySelector);\n\n// Include the version number.\nhlsQualitySelector.VERSION = version;\n\nreturn hlsQualitySelector;\n\n})));\n"],"names":["global","factory","this","videojs","hasOwnProperty","_typeof","Symbol","iterator","obj","constructor","prototype","classCallCheck","AwaitValue","value","AsyncGenerator","gen","front","back","resume","key","arg","result","Promise","resolve","then","settle","done","err","type","reject","next","_invoke","request","return","undefined","asyncIterator","throw","instance","Constructor","TypeError","inherits","subClass","superClass","Object","create","enumerable","writable","configurable","setPrototypeOf","__proto__","possibleConstructorReturn","self","call","ReferenceError","VideoJsButtonClass","getComponent","VideoJsMenuClass","VideoJsComponent","Dom","dom","ConcreteButton","_VideoJsButtonClass","player","title","localize","name","createItems","createMenu","string","menu","player_","menuButton","hideThreshold_","options_","titleEl","createEl","className","innerHTML","charAt","toUpperCase","slice","tabIndex","titleComponent","el","addItem","items","i","length","ConcreteMenuItem","_VideoJsMenuItemClass","item","qualityButton","plugin","_this","label","selectable","selected","handleClick","setQuality","defaults","registerPlugin","HlsQualitySelectorPlugin","options","config","qualityLevels","getHls","createQualityButton","bindPlayerEvents","tech","IWillNotUseThisInPlugins","hls","on","onAddQualityLevel","bind","_qualityButton","placementIndex","controlBar","children","concreteButtonInstance","addChild","componentClass","addClass","displayCurrentQuality","setButtonInnerText","icon","vjsIconClass","menuButton_","$","removeClass","text","getQualityMenuItem","levels","levels_","levelItems","_loop","filter","_existingItem","height","levelItem","push","sort","current","update","qualityList","_currentQuality","quality","enabled","unpressButton","getCurrentQuality","hlsQualitySelector","_this2","ready","onPlayerReady","merge","VERSION","exports","module","require","define","amd","videojsHlsQualitySelector"],"mappings":"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"}