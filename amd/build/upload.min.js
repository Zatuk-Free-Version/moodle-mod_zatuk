define("mod_zatuk/upload",["exports","core_form/modalform","core/modal_factory","core/str"],(function(_exports,_modalform,_modal_factory,_str){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * This file is haveing the functionality for video upload.
   *
   * @since      Moodle 2.0
   * @copyright  2023 Moodle India
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=_exports.confirmbox=void 0,_modalform=_interopRequireDefault(_modalform),_modal_factory=_interopRequireDefault(_modal_factory);const Selectors_actions={uploadvideo:'[data-action="uploadvideo"]'},confirmbox=message=>{_modal_factory.default.create({body:message,type:_modal_factory.default.types.ALERT,buttons:{ok:(0,_str.get_string)("Thank_you")},removeOnClose:!0}).done((function(modal){modal.show()}))};_exports.confirmbox=confirmbox;_exports.init=()=>{document.addEventListener("click",(function(e){let uploadvideo=e.target.closest(Selectors_actions.uploadvideo);if(uploadvideo){e.stopImmediatePropagation();if(1==uploadvideo.getAttribute("data-zatukrepoenabled")){const title=uploadvideo.getAttribute("data-id")?(0,_str.get_string)("uploadvideo","mod_zatuk",uploadvideo.getAttribute("data-name")):(0,_str.get_string)("uploadvideo","mod_zatuk"),form=new _modalform.default({formClass:"mod_zatuk\\form\\upload",args:{id:uploadvideo.getAttribute("data-id")},modalConfig:{title:title},returnFocus:uploadvideo});form.addEventListener(form.events.FORM_SUBMITTED,(()=>window.location.reload())),form.show()}else(0,_str.get_string)("enablezatuk","mod_zatuk").then((str=>{confirmbox((0,_str.get_string)("finalzatuksmessage","mod_zatuk",str))}))}}))}}));

//# sourceMappingURL=upload.min.js.map